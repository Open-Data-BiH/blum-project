<!doctype html>
<html lang="bs">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <!-- Content Security Policy -->
        <meta
            http-equiv="Content-Security-Policy"
            content="default-src 'self'; script-src 'self' https://unpkg.com https://cdnjs.cloudflare.com; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com https://cdnjs.cloudflare.com https://unpkg.com; font-src 'self' https://fonts.gstatic.com https://cdnjs.cloudflare.com; img-src 'self' data: https://*.tile.openstreetmap.org https://basemaps.cartocdn.com https://tiles.stadiamaps.com https://server.arcgisonline.com; connect-src 'self' https://unpkg.com https://cdnjs.cloudflare.com; base-uri 'self'; form-action 'self';"
        />
        <title>Red voznje i linije | BLum</title>
        <link rel="canonical" href="https://blum.ba/lines.html" />
        <meta
            name="description"
            content="Pregled gradskih i prigradskih linija, mape trasa i reda voznje javnog prevoza u Banjoj Luci."
        />
        <meta property="og:title" content="Red voznje i linije | BLum" />
        <meta
            property="og:description"
            content="Pregled gradskih i prigradskih linija, mape trasa i reda voznje javnog prevoza u Banjoj Luci."
        />
        <meta property="og:image" content="https://blum.ba/assets/images/gradski-prevoz-mapa-banja-luka.png" />
        <meta property="og:type" content="website" />
        <meta property="og:url" content="https://blum.ba/lines.html" />
        <meta name="twitter:card" content="summary_large_image" />
        <!-- Google Fonts -->
        <link rel="preconnect" href="https://fonts.googleapis.com" />
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
        <link
            href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Noto+Sans:wght@400;500;600;700&display=swap"
            rel="stylesheet"
        />
        <link
            rel="stylesheet"
            href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
            integrity="sha512-Zcn6bjR/8RZbLEpLIeOwNtzREBAJnUKESxces60Mpoj+2okopSAcSUIUOseddDm0cxnGQzxIR7vJgsLZbdLE3w=="
            crossorigin="anonymous"
        />
        <link
            rel="stylesheet"
            href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
            integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA=="
            crossorigin="anonymous"
            referrerpolicy="no-referrer"
        />

        <!-- Favicons -->
        <link rel="apple-touch-icon" sizes="180x180" href="assets/images/favicon/apple-touch-icon.png" />
        <link rel="icon" type="image/png" sizes="32x32" href="assets/images/favicon/favicon-32x32.png" />
        <link rel="icon" type="image/png" sizes="16x16" href="assets/images/favicon/favicon-16x16.png" />
        <link rel="manifest" href="assets/images/favicon/site.webmanifest" />

        <!-- Modular CSS -->
        <link rel="stylesheet" href="css/variables.css" />
        <link rel="stylesheet" href="css/base.css" />
        <link rel="stylesheet" href="css/layout.css" />
        <link rel="stylesheet" href="css/components.css" />
        <link rel="stylesheet" href="css/utilities.css" />
        <!-- Page-specific CSS -->
        <link rel="stylesheet" href="css/pages/line-styles.css" />
        <link rel="stylesheet" href="css/pages/timetables.css" />
    </head>
    <body data-page="lines">
        <a href="#main-content" class="skip-link">Skip to main content</a>

        <div class="page-container">
            <div id="header"></div>

            <main id="main-content" class="content-wrap">
                <!-- Urban Lines Section -->
                <section class="section section--wide" id="urban-lines">
                    <div class="container">
                        <h2 class="section__title" id="urban-lines-title"></h2>

                        <div class="map-container urban-lines-map">
                            <div id="urban-lines-viewer"></div>
                        </div>
                        <div class="map-note">
                            <i class="map-note__icon fas fa-info-circle"></i>
                            <span id="lines-map-note"></span>
                        </div>

                        <!-- Map Credits Dropdown -->
                        <div class="map-credits">
                            <button class="map-credits__toggle" id="map-credits-toggle">
                                <span class="map-credits__label" id="lines-map-credits-label"></span>
                                <i class="map-credits__icon fas fa-chevron-down"></i>
                            </button>

                            <div class="map-credits__content" id="map-credits-content">
                                <div class="map-context__content" data-lang="bhs">
                                    <p>
                                        Mapa prikazuje trase linija javnog prevoza i rezultat je rada
                                        <strong
                                            >Udruženja Građana "<a
                                                href="https://www.imamoplan.com/"
                                                target="_blank"
                                                rel="noopener noreferrer"
                                                class="map-context__link"
                                                >Uticajna Grupa - Imamo Plan</a
                                            >"</strong
                                        >
                                        iz Srbije, koje su osnovali
                                        <strong>Jug Cerović, Marko Njegić i Stefan Milojević 2012. godine</strong>.
                                    </p>

                                    <p>
                                        Ova mapa predstavlja
                                        <strong>poklon gradu i građanima</strong>, nastala iz entuzijazma i volonterskog
                                        angažmana, s ciljem da se unaprijedi preglednost i dostupnost informacija o
                                        javnom prevozu.
                                    </p>

                                    <div class="map-context__note">
                                        <strong>NAPOMENA:</strong> Prikazi na mapi možda nisu u potpunosti ažurni, jer
                                        informacije sa internet stranice gradske uprave nisu uvijek dostupne, potpune
                                        ili ažurirane.
                                    </div>

                                    <p>Zahvaljujemo se autorima za doprinos zajednici.</p>
                                </div>

                                <div class="map-context__content" data-lang="en" style="display: none">
                                    <p>
                                        This map displays public transport routes and was created by the
                                        <strong
                                            >Citizens' Association "<a
                                                href="https://www.imamoplan.com/"
                                                target="_blank"
                                                rel="noopener noreferrer"
                                                class="map-context__link"
                                                >Uticajna Grupa - Imamo Plan</a
                                            >"</strong
                                        >
                                        from Serbia, founded in
                                        <strong>2012 by Jug Cerović, Marko Njegić and Stefan Milojević</strong>.
                                    </p>

                                    <p>
                                        The map is a
                                        <strong>gift to the city and its citizens</strong>, developed as a volunteer
                                        initiative aimed at improving access to and visibility of public transport
                                        information.
                                    </p>

                                    <div class="map-context__note">
                                        <strong>Note:</strong> Some route details may not be fully up to date due to
                                        limited availability or lack of accurate information on the city administration
                                        website.
                                    </div>

                                    <p>We thank the authors for their valuable contribution to the community.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Lines Section -->
                <section class="section section--wide" id="lines">
                    <div class="container">
                        <h2 class="section__title" id="lines-title"></h2>

                        <!-- Collapsible Info Accordion -->
                        <div class="lines-info-accordion">
                            <button
                                class="accordion-toggle"
                                id="lines-info-toggle"
                                aria-expanded="false"
                                aria-controls="lines-info-content"
                            >
                                <span id="lines-accordion-toggle"></span>
                                <i class="fas fa-chevron-down" aria-hidden="true"></i>
                            </button>
                            <div class="accordion-content" id="lines-info-content" hidden>
                                <p id="lines-accordion-text"></p>

                                <div class="operator-legend operator-legend--compact">
                                    <div class="legend-item autoprevoz-legend">
                                        <span class="color-box"></span>
                                        <span class="operator-name">AUTOPREVOZ</span>
                                    </div>
                                    <div class="legend-item pavlovic-legend">
                                        <span class="color-box"></span>
                                        <span class="operator-name">PAVLOVIĆ Turs</span>
                                    </div>
                                    <div class="legend-item bocac-legend">
                                        <span class="color-box"></span>
                                        <span class="operator-name">BOČAC Tours</span>
                                    </div>
                                    <div class="legend-item aldemo-legend">
                                        <span class="color-box"></span>
                                        <span class="operator-name">ALDEMO Turs</span>
                                    </div>
                                    <div class="legend-item rale-legend">
                                        <span class="color-box"></span>
                                        <span class="operator-name">RALE Turs</span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div id="lines-info">
                            <!-- Lines will be loaded here dynamically -->
                        </div>
                    </div>
                </section>

                <!-- Timetable Section -->
                <section class="section section--wide" id="timetable">
                    <div class="container">
                        <h2 class="section__title" id="lines-timetable-title"></h2>
                        <div class="line-selector-wrapper">
                            <label for="line-select" class="visually-hidden">Izaberite liniju</label>
                            <select id="line-select" aria-label="Izaberite liniju"></select>
                        </div>
                        <div id="timetable-display"></div>
                    </div>
                </section>
            </main>

            <div id="footer"></div>
        </div>

        <script
            src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
            integrity="sha512-BwHfrr4c9kmRkLw6iXFdzcdWV/PGkVgiIyIWLLlTSXzWQzxuSg4DiQUCpauz/EWjgk5TYQqX/kvn9pG1NpYfqg=="
            crossorigin="anonymous"
        ></script>
        <!-- DOMPurify for XSS protection -->
        <script
            src="https://cdnjs.cloudflare.com/ajax/libs/dompurify/3.0.8/purify.min.js"
            integrity="sha256-0kaYYq3qitkkVZpP/6uKTJwfTpqFNM6OHDbsaYzw9Uw="
            crossorigin="anonymous"
            referrerpolicy="no-referrer"
        ></script>
        <script type="module" src="js/main.js"></script>
    </body>
</html>
